<div class="main">
 
  <div class="columns is-mobile is-vcentered is-centered">
    <div class="column"></div>

    <div class="column">
      <h2 class="has-text-centered">Contacts</h2>

      <div class="space"></div>

      <p class="mb-2">Search by contact by ID*</p>
    
      <mat-form-field class="example-full-width mb-4" appearance="outline">
        <mat-label>Contact ID</mat-label>
        <input matInput placeholder="Enter your contact ID" id="idValue" type="number" name="idValue" [formControl]="idValue"
        [class.invalid]="haveErrorFieldId()"
         required min="1">

         <mat-error
         *ngIf="haveErrorFieldId()"
         class="has-text-danger" style="margin-bottom: 20px;">Enter valid ID
       </mat-error>
      </mat-form-field>
    
      <div class="container get-by-id has-text-centered" appearance="outline">
        <button type="button" class="button is-success is-rounded custom-button" (click)="findContactById()" clickable>Find Contact by ID</button>
      </div>
    
      <div class="container">
        <mat-card *ngIf="contactById.id != 0" appearance="outlined" style="padding: 6px;">
          <mat-card-header>
            <mat-card-title>{{contactById.firstName}} {{contactById.lastName}}</mat-card-title>
            <mat-card-subtitle>ID: {{contactById.id}}, 
              <br>Phone: {{contactById.phoneNumber}}, 
              <br>Email: {{contactById.email}}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-actions>
            <button mat-button (click)="copyContactById()">COPY</button>
          </mat-card-actions>
        </mat-card>
      </div>
    
      <hr>
    
      <p class="mb-2">Search by keyword (Optional)</p>

      <mat-form-field class="example-full-width mb-4" appearance="outline">
        <mat-label>Keyword</mat-label>
        <input matInput placeholder="Optional keyword" type="text" id="filterValue" name="filterValue" 
        (keydown.space)="$event.preventDefault();"
        [formControl]="filterValue">
      </mat-form-field>
    
      <div class="container get-all-filter has-text-centered">
        <button #btnFilter type="button" class="button is-success is-rounded custom-button" (click)="getAllContacts()" clickable>Find All Contacts</button>
      </div>
    
      <div *ngIf="contacts.length > 0" class="container get-all">
    
        <mat-card appearance="outlined" style="padding: 6px;">
          @for (contact of contacts; track contact.id) {
    
          <mat-card appearance="outlined" style="padding: 6px;" class="mt-1 mb-1">
            <mat-card-header>
              <mat-card-title>{{contact.firstName}} {{contact.lastName}}</mat-card-title>
              <mat-card-subtitle>ID: {{contact.id}}, 
                <br>Phone: {{contact.phoneNumber}}, 
                <br>Email: {{contact.email}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-actions>
              <button mat-button (click)="copyContact($index)">COPY</button>
            </mat-card-actions>
          </mat-card>
          <br>
          }
        </mat-card>
    
      </div>
    </div>


    <div class="column"></div>
  </div>

</div>